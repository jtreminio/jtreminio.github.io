<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"> <meta name="description" content="Juan Treminio - Dallas based senior web developer"> <meta name="keywords" content=""> <meta property="og:title" content="Getting Started with Kohana 3, Part I – Initial Setup - Juan Treminio - Senior Web Developer Blog"> <meta property="og:type" content="article"> <meta property="og:description" content=" I am no longer using Kohana in any of my personal or professional projects. I have moved to a better, more modular framework in Silex, which I will be writing about shortly. This series has bee..."> <meta property="article:tag" content="webdev"> <meta property="article:tag" content="kohana"> <meta property="article:tag" content="tutorial"> <meta property="article:tag" content="server"> <meta property="og:url" content="https://jtreminio.com/blog/getting-started-with-kohana-3-part-i"> <meta property="og:site_name" content="Juan Treminio - Senior Web Developer Blog"> <title>Getting Started with Kohana 3, Part I – Initial Setup - Juan Treminio - Senior Web Developer Blog</title> <link rel="shortcut icon" type="image/png" href="/static/favicon/favicon.ico"/> <link rel="shortcut icon" type="image/png" href="/static/favicon/favicon-96x96.png" sizes="96x96"/> <link rel="shortcut icon" type="image/png" href="/static/favicon/favicon-32x32.png" sizes="32x32"/> <link rel="canonical" href="https://jtreminio.com/blog/getting-started-with-kohana-3-part-i"> <link href="//cdn.jsdelivr.net/npm/bootstrap-no-fonts-no-js@3.3.7/css/bootstrap.min.css" rel="stylesheet" type="text/css"/> <link href="//cdnjs.cloudflare.com/ajax/libs/startbootstrap-clean-blog/3.3.7/css/clean-blog.min.css" rel="stylesheet" type="text/css"/> <link href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css"/> <link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css"/> <script src="//cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script> <link rel="stylesheet" href="/static/css/rouge.css"/> <link rel="stylesheet" href="/static/css/custom.css?1643036962"/> <link rel="stylesheet" href="/static/css/dark.css?1643036962" data-dark-style/> </head> <body> <nav class="navbar navbar-default navbar-expand-md navbar-custom navbar-fixed-top is-fixed is-visible"> <div class="container-fluid"> <div class="navbar-header page-scroll"> <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar-collapse"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand hidden-xs hidden-sm" href="/">Juan Treminio - Senior Web Developer Blog</a> <a class="navbar-brand visible-xs visible-sm" href="/">Juan Treminio - Developer Blog</a> </div> <div class="collapse navbar-collapse" id="main-navbar-collapse"> <ul class="nav navbar-nav navbar-right"> <li><a href="/">Blog</a></li> <li><a href="/about">About</a></li> <li><a href="/hire-me">Hire Me</a></li> <li> <a class="btn theme-toggle"> <span class="theme-dark"><i data-feather="moon"></i> Dark Theme</span> <span class="theme-light"><i data-feather="sun"></i> Light Theme</span> </a> </li> </ul> </div> </div> </nav> <header class="intro-header"> <div class="container"> <div class="row"> <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"> <div class="post-heading"> <h1>Getting Started with Kohana 3, Part I – Initial Setup</h1> <h2 class="subheading">A popular framework tutorial</h2> <span class="meta">Posted on Mar 14, 2012 <br/> <i class="feather icon-tag"></i>Tags <a href="/tags#webdev">webdev</a>, <a href="/tags#kohana">kohana</a>, <a href="/tags#tutorial">tutorial</a>, <a href="/tags#server">server</a> </span> </div> </div> </div> </div> </header> <article> <div class="container"> <div class="row"> <div class="post col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"> <blockquote class="warning"> <p>I am no longer using Kohana in any of my personal or professional projects. I have moved to a better, more modular framework in Silex, which I will be writing about shortly. This series has been permanently discontinued.</p> </blockquote> <blockquote class="success"> <p>This is Part I of a multi-part series. Below are the links to other parts of this tutorial!</p> <ul> <li>Getting Started with Kohana 3, Part I – Initial Setup</li> <li><a href="/blog/getting-started-with-kohana-3-part-ii-bootstrap">Getting Started with Kohana 3, Part II – Bootstrap</a></li> <li><a href="/blog/getting-started-with-kohana-3-part-iii-controller-mvvm-kostache">Getting Started with Kohana 3, Part III – Controller/MVVM/KOstache</a></li> </ul> </blockquote> <p>The Kohana Framework started off as a fork of the very popular CodeIgniter Framework. During the KO 2.x versions, it stayed fairly similar to how CodeIgniter functioned, and a developer could easily jump from one to the other and feel very familiar. With the introduction of the Kohana 3.x version, this all changed, as Kohana was completely rewritten from the ground up. Now, unless you’re a seasoned PHP developer, you may have difficulty making the jump from other frameworks in Kohana. I have written this tutorial to be your step-by-step guide into the world of Kohana.</p> <h2 id="who-is-this-for">Who is this for?</h2> <p>This guide will be very low-level and easy to follow, but you must be an experienced PHP developer. If you have never used a framework before, but have a firm grasp on OO concepts, some patterns, and best practices, you should be fine. It assumes you have your local environment set up and are comfortable working with Apache to the extent of setting up your own virtual hosts.</p> <p>If you have already started looking into Kohana but are lost, or are not sure what your next steps should be, I will attempt to take you to the next level by introducing must-have modules and best practices in both Kohana and MVC (actually, MVVM but we’ll get to that!) frameworks in general.</p> <h2 id="what-will-you-learn">What will you learn?</h2> <p>Following this guide, you will learn how to create a blog from start to finish. Yes, a stupidly large majority of framework tutorials out there deal with blogs, but on the upside at least you know exactly what components make up a blog so it will make it much easier for you to follow along.</p> <p>I will take you through initial setup of the framework, module installation and converting Kohana from MVC, where the V(iew) is simply a template that gets passed information from the C(ontroller), to the MVVM (often mistake as MVVC) design pattern, where we slim the down the C(ontroller) to basically handle route requests, and expand the responsibilities of the V(iew)M(odel) and implement true templates.</p> <p>You will even learn something most other Kohana tutorials completely skip out on – HMVC!</p> <p>By the end of this tutorial, we will have a fully functional, albeit lightweight blog setup that will hopefully make you comfortable with Kohana as a framework.</p> <h2 id="requirements">Requirements</h2> <p>I will assume you have PHP 5.3+ (I am running 5.3.10), Apache and MySQL. I will also be using Xdebug for debugging and PhpStorm as my IDE.</p> <h2 id="why-kohana">Why Kohana?</h2> <p>Kohana is not perfect, far from it (there, I said it). In fact, it has some architectural decisions that may not make perfect sense. Regardless, it’s one of my favorite frameworks, and I have the privilege of using it both at my full-time gig and all contract jobs I take on. Each version that is released by the dev team comes with some great improvements that keep polishing this great framework and simply makes it much more fun to work with.</p> <h2 id="about-this-tutorial">About this tutorial</h2> <p>This tutorial will be made up of several chapters, each being bite-size so you can easily absorb the information presented (and so I don’t have to write a ton each time!).</p> <p>I’ve put all the code up on my GitHub account at <a href="https://github.com/jtreminio/Kohana-3-Tutorial">jtreminio/Kohana-3-Tutorial</a>. Please feel free to clone and send it pull requests. I will try to keep each chapter in its own branch, so you can easily follow along.</p> <p>Now that that very long-winded introduction is out of the way, let’s get started!</p> <h2 id="download-kohana">Download Kohana</h2> <p>Go to <a href="http://www.kohanaframework.com">kohanaframework.com</a> and download from the frontpage. As of writing this article, the newest version is 3.2, with 3.3 right around the corner. As soon as 3.3 is released I will update this tutorial to take into account all changes that have been made since then.</p> <p>Download the archive file and extract into your local server directory.</p> <h2 id="setup-local-host">Setup local host</h2> <p>For this tutorial, we will use the domain <a href="http://kohana-tutorial.dev">kohana-tutorial.dev</a>. Instructions vary slightly between OS’s, but the main two steps involve adding the domain into your hosts file, and setting up a vhost in Apache.</p> <p>In your hosts file, add <code class="language-plaintext highlighter-rouge">127.0.0.1 kohana-tutorial.dev</code> and then add the following into your virtual hosts file:</p> <div class="language-apache highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="p">&lt;</span><span class="nl">VirtualHost</span><span class="sr"> *:80</span><span class="p">&gt;
</span>    <span class="nc">DocumentRoot</span> "/www/kohana_tutorial/public"
    <span class="nc">ServerName</span> kohana-tutorial.dev
    <span class="nc">ServerAlias</span> *.kohana-tutorial.dev
    <span class="nc">SetEnv</span> KOHANA_ENV DEVELOPMENT
<span class="p">&lt;/</span><span class="nl">VirtualHost</span><span class="p">&gt;
</span></pre></td></tr></tbody></table></code></pre></div></div> <p>This information is specific to my setup, but you should be able to easily tell what’s going on and tailor it to your circumstances.</p> <p>You must now restart Apache before continuing.</p> <h2 id="move-publicly-accessible-files--chmod">Move publicly-accessible files &amp; chmod</h2> <p>One of the easiest security precautions you can take to help secure your server is to move all but the necessary files out of your root directory. You’ll notice Kohana does not ship with a <code class="language-plaintext highlighter-rouge">/public/</code> folder, but you’re already on your way to rectifying this issue.</p> <p>Create a <code class="language-plaintext highlighter-rouge">public</code> folder in your webroot. Your base Kohana folder structure should now look like this:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>application
modules
public
system
</pre></td></tr></tbody></table></code></pre></div></div> <p>Move <code class="language-plaintext highlighter-rouge">index.php</code>, <code class="language-plaintext highlighter-rouge">install.php</code> and <code class="language-plaintext highlighter-rouge">example.htaccess</code> into the <code class="language-plaintext highlighter-rouge">public</code> folder. Then, rename <code class="language-plaintext highlighter-rouge">example.htaccess</code> to <code class="language-plaintext highlighter-rouge">.htaccess</code> and open up <code class="language-plaintext highlighter-rouge">index.php</code> to change the following lines:</p> <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre><span class="cp">&lt;?php</span>
<span class="c1">// ...</span>

<span class="c1">// $application = 'application';</span>
<span class="nv">$application</span> <span class="o">=</span> <span class="s1">'../application'</span><span class="p">;</span>
<span class="c1">// ...</span>

<span class="c1">// $modules = 'modules';</span>
<span class="nv">$modules</span> <span class="o">=</span> <span class="s1">'../modules'</span><span class="p">;</span>
<span class="c1">// ...</span>

<span class="c1">// $system = 'system';</span>
<span class="nv">$system</span> <span class="o">=</span> <span class="s1">'../system'</span><span class="p">;</span>
<span class="c1">// ...</span>
</pre></td></tr></tbody></table></code></pre></div></div> <p>What you’re doing here is telling Kohana that those three folders are no longer in the same location as the <code class="language-plaintext highlighter-rouge">index.php</code> file, but are located one level below, in a non-publicly accessible location.</p> <p>The final step is to chmod the <code class="language-plaintext highlighter-rouge">application/cache</code> and <code class="language-plaintext highlighter-rouge">application/logs</code> folders to 777. Kohana requires these folders be writable. In Linux you can simply do <code class="language-plaintext highlighter-rouge">chmod 777 application/cache application/logs</code>. I do not believe Windows requires this step but I think Mac OS X does.</p> <h2 id="test-it-out">Test it out</h2> <div class="text-center"> <figure class="img-thumbnail"> <a href="/static/post/2012-03-14-getting-started-with-kohana-3-part-i/kohana.install.png"> <img style="max-width: 100%; height: auto;" src="/static/post/2012-03-14-getting-started-with-kohana-3-part-i/kohana.install.png" width="300px"/> <figcaption> <small>kohana.install.png</small> </figcaption> </a> </figure> </div> <p>Restart Apache and go to <a href="http://kohana-tutorial.dev">kohana-tutorial.dev</a>. If all’s gone well, you should be present with the Kohana Installation page. What is important is that your server passes all the Environment Tests, as the Optional Tests are just that. If you do not get a screen full of green, read the error messages and fix the issue. They’re fairly easy to figure out.</p> <p>Now, delete the <code class="language-plaintext highlighter-rouge">public/install.php</code> and reload the page. You should now get the default hello world, which means you’ve completed the very first, most basic steps to Getting Started with Kohana!</p> <h2 id="wrapping-it-up">Wrapping it up</h2> <p>In this chapter, you have done the initial setup required to get a Kohana application running on your local web server. As I mentioned in the tutorial introduction, each chapter will be very lightweight, focusing on one main theme. Please check back soon for the next chapter, where I will go through the execution path that is taken from the point that your browser hits the framework to you getting output on your screen!</p> <hr class="invisible"> <ul class="pager"> <li class="next"> <a href="/blog/getting-started-with-kohana-3-part-ii-bootstrap" data-toggle="tooltip" data-placement="top" title="Getting Started with Kohana 3, Part II – Bootstrap"> &larr; Next<br> <span>Getting Started with Kohana 3, Part II – Bootstrap</span> </a> </li> </ul> <hr class="invisible"> <div class="comment"> </div> </div> </div> </div> </article> <footer> <div class="container"> <div class="row"> <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"> <ul class="list-inline text-center footer-icons"> <li><a href="mailto:jtreminio@gmail.com"><i data-feather="mail"></i></a></li> <li> <a href="https://github.com/jtreminio" target="_blank"> <i data-feather="github"></i> </a> </li> <li> <a href="https://twitter.com/juantreminio" target="_blank"> <i data-feather="twitter"></i> </a> </li> <li> <a href="https://www.linkedin.com/in/jtreminio-1" target="_blank"> <i data-feather="linkedin"></i> </a> </li> </ul> </div> </div> </div> </footer> <link href="//cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" rel="stylesheet" type="text/css"/> <link href="//cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" rel="stylesheet" type="text/css"/> <script src="//cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js"></script> <script src="//cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js"></script> <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"> <div class="pswp__bg"></div> <div class="pswp__scroll-wrap"> <div class="pswp__container"> <div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div> </div> <div class="pswp__ui pswp__ui--hidden"> <div class="pswp__top-bar"> <div class="pswp__counter"></div> <button class="pswp__button pswp__button--close" title="Close (Esc)"></button> <button class="pswp__button pswp__button--share" title="Share"></button> <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button> <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button> <div class="pswp__preloader"> <div class="pswp__preloader__icn"> <div class="pswp__preloader__cut"> <div class="pswp__preloader__donut"></div> </div> </div> </div> </div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"> <div class="pswp__share-tooltip"></div> </div> <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"> </button> <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"> </button> <div class="pswp__caption"> <div class="pswp__caption__center"></div> </div> </div> </div> </div> </body> <script src="/static/js/custom.js?1643036962"></script> </html>