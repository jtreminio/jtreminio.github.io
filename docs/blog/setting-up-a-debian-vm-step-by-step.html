<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"> <meta name="description" content="Juan Treminio - Dallas based senior web developer"> <meta name="keywords" content=""> <meta property="og:title" content="Setting Up a Debian VM, Step by Step - Juan Treminio - Senior Web Developer Blog"> <meta property="og:type" content="article"> <meta property="og:description" content="Previously, I created a tutorial on installing a 32-bit Ubuntu VM with PHP 5.3.x. I’ve since moved on to PHP 5.4.x and Debian, which is universally considered a safer bet for a server OS. This tuto..."> <meta property="article:tag" content="tutorial"> <meta property="article:tag" content="server"> <meta property="article:tag" content="vm"> <meta property="og:url" content="https://jtreminio.com/blog/setting-up-a-debian-vm-step-by-step"> <meta property="og:site_name" content="Juan Treminio - Senior Web Developer Blog"> <title>Setting Up a Debian VM, Step by Step - Juan Treminio - Senior Web Developer Blog</title> <link rel="shortcut icon" type="image/png" href="/static/favicon/favicon.ico"/> <link rel="shortcut icon" type="image/png" href="/static/favicon/favicon-96x96.png" sizes="96x96"/> <link rel="shortcut icon" type="image/png" href="/static/favicon/favicon-32x32.png" sizes="32x32"/> <link rel="canonical" href="https://jtreminio.com/blog/setting-up-a-debian-vm-step-by-step"> <link href="//cdn.jsdelivr.net/npm/bootstrap-no-fonts-no-js@3.3.7/css/bootstrap.min.css" rel="stylesheet" type="text/css"/> <link href="//cdnjs.cloudflare.com/ajax/libs/startbootstrap-clean-blog/3.3.7/css/clean-blog.min.css" rel="stylesheet" type="text/css"/> <link href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css"/> <link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css"/> <script src="//cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script> <link rel="stylesheet" href="/static/css/rouge.css"/> <link rel="stylesheet" href="/static/css/custom.css?1643036962"/> <link rel="stylesheet" href="/static/css/dark.css?1643036962" data-dark-style/> </head> <body> <nav class="navbar navbar-default navbar-expand-md navbar-custom navbar-fixed-top is-fixed is-visible"> <div class="container-fluid"> <div class="navbar-header page-scroll"> <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar-collapse"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand hidden-xs hidden-sm" href="/">Juan Treminio - Senior Web Developer Blog</a> <a class="navbar-brand visible-xs visible-sm" href="/">Juan Treminio - Developer Blog</a> </div> <div class="collapse navbar-collapse" id="main-navbar-collapse"> <ul class="nav navbar-nav navbar-right"> <li><a href="/">Blog</a></li> <li><a href="/about">About</a></li> <li><a href="/hire-me">Hire Me</a></li> <li> <a class="btn theme-toggle"> <span class="theme-dark"><i data-feather="moon"></i> Dark Theme</span> <span class="theme-light"><i data-feather="sun"></i> Light Theme</span> </a> </li> </ul> </div> </div> </nav> <header class="intro-header"> <div class="container"> <div class="row"> <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"> <div class="post-heading"> <h1>Setting Up a Debian VM, Step by Step</h1> <h2 class="subheading">Deprecated, use PuPHPet</h2> <span class="meta">Posted on Jul 04, 2012 <br/> <i class="feather icon-tag"></i>Tags <a href="/tags#tutorial">tutorial</a>, <a href="/tags#server">server</a>, <a href="/tags#vm">vm</a> </span> </div> </div> </div> </div> </header> <article> <div class="container"> <div class="row"> <div class="post col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"> <p>Previously, I created a tutorial on installing a 32-bit Ubuntu VM with PHP 5.3.x. I’ve since moved on to PHP 5.4.x and Debian, which is universally considered a safer bet for a server OS. This tutorial is what I will point back to in the future when I want to show people how to create a VM, so you should consider the Ubuntu-based tutorial obsolete.</p> <p>In reality, Ubuntu is based on Debian, so the bulk of this tutorial will be very similar to the Ubuntu one, albeit with some minor changes here and there.</p> <h2 id="why-do-you-need-a-vm">Why do you need a VM?</h2> <p>There’s many reasons to do your development work on a virtual machine over your daily desktop:</p> <ul> <li>It separates out programs and settings from your local desktop that can interfere with the operations of a server. Did you know that if you run Skype and try to install XAMPP, the server won’t start? That’s because Skype is using port 80 for its connection, and you have to manually go in and disable this for XAMPP to work,</li> <li>It keeps server-related software out of your desktop,</li> <li>If you’re running Windows and a prepackaged server like XAMPP, you may have run into some flakiness when trying to run PEAR, or install memcache or APC, or several of the more popular PHP extensions. XAMPP is great for getting an “it just works” server up and running within minutes, but the drawbacks become too great when you want to do something more in-depth,</li> <li>The most important reason of all is that you want your development environment to mimic your production environment as closely as possible, and it’s even better if it is an exact mirror of all the programs and settings. What usually happens when you start a new job at a development company that has its act together is that you’re given a VM image to use on your computer that mimics the production server. The reasons for having your dev environment mimic prod is that it greatly reduces the chances of hearing the phrase, “It works on my computer” because now you don’t have to deal with the minor differences between software versions messing up your application. This tutorial, however, is not meant to replace such a scenario. My aim is to get you up and running a generic VM that allows you to quickly setup new, or modify existing, applications, as is the case for freelancers who have multiple clients that are running on generic webhosts.</li> </ul> <h2 id="getting-started">Getting Started</h2> <p>There’s two popular VM applications: <a href="https://www.virtualbox.org/">Oracle VirtualBox</a> and <a href="http://www.vmware.com/">VMare</a>. For this tutorial we’ll be using Virtualbox, which works across all major operating systems.</p> <p><a href="https://www.virtualbox.org/wiki/Downloads">Download the appropriate package from VirtualBox’s website</a> and install it on your computer. All the default settings will do fine.</p> <p>The VM OS we’ll be installing is Debian. Go to this Debian mirror and download the latest netinst ISO. It should match <code class="language-plaintext highlighter-rouge">debian-#.#.#-amd64-i386-netinst.iso</code>. <a href="http://ftp.cae.tntech.edu/debian-cd/">Download Debian ISO to your computer</a>.</p> <blockquote class="danger"> <p>The VM we will end up building and running is <em>not</em> secure and should not be used in a production environment. You should only set this up as a virtual machine on your local desktop!</p> </blockquote> <h2 id="install-the-vm">Install the VM</h2> <p>Open Virtualbox and hit the New button.</p> <div class="text-center"> <figure class="img-thumbnail"> <a href="/static/post/2012-07-04-setting-up-a-debian-vm-step-by-step/step1.png"> <img style="max-width: 100%; height: auto;" src="/static/post/2012-07-04-setting-up-a-debian-vm-step-by-step/step1.png" width="300px"/> <figcaption> <small>step1.png</small> </figcaption> </a> </figure> </div> <p>At the Create New Virtual Machine screen, name your VM “Debian VM” and hit Next</p> <div class="text-center"> <figure class="img-thumbnail"> <a href="/static/post/2012-07-04-setting-up-a-debian-vm-step-by-step/step2.png"> <img style="max-width: 100%; height: auto;" src="/static/post/2012-07-04-setting-up-a-debian-vm-step-by-step/step2.png" width="300px"/> <figcaption> <small>step2.png</small> </figcaption> </a> </figure> </div> <p>Give your VM 1GB of RAM. If your computer has less than 6GB of RAM, you should probably lower it down to 512MB.</p> <div class="text-center"> <figure class="img-thumbnail"> <a href="/static/post/2012-07-04-setting-up-a-debian-vm-step-by-step/step3.png"> <img style="max-width: 100%; height: auto;" src="/static/post/2012-07-04-setting-up-a-debian-vm-step-by-step/step3.png" width="300px"/> <figcaption> <small>step3.png</small> </figcaption> </a> </figure> </div> <p>Click next until you reach the Virtual desk storage details page, and select “Fixed size”</p> <div class="text-center"> <figure class="img-thumbnail"> <a href="/static/post/2012-07-04-setting-up-a-debian-vm-step-by-step/step4.png"> <img style="max-width: 100%; height: auto;" src="/static/post/2012-07-04-setting-up-a-debian-vm-step-by-step/step4.png" width="300px"/> <figcaption> <small>step4.png</small> </figcaption> </a> </figure> </div> <p>Give it 8 GB of space</p> <div class="text-center"> <figure class="img-thumbnail"> <a href="/static/post/2012-07-04-setting-up-a-debian-vm-step-by-step/step5.png"> <img style="max-width: 100%; height: auto;" src="/static/post/2012-07-04-setting-up-a-debian-vm-step-by-step/step5.png" width="300px"/> <figcaption> <small>step5.png</small> </figcaption> </a> </figure> </div> <p>Virtualbox will now create the initial VM image file which may take a minute or two. When it is finished, close the process by hitting the “Create” button.</p> <p>Right now you have your VM set up, but haven’t installed the actual operating system on it. To do so, simply double click on the Debian VM line and click “next”.</p> <p>Click the folder icon and search for your Debian iso file, clicking next until the VM boots up.</p> <div class="text-center"> <figure class="img-thumbnail"> <a href="/static/post/2012-07-04-setting-up-a-debian-vm-step-by-step/step6.png"> <img style="max-width: 100%; height: auto;" src="/static/post/2012-07-04-setting-up-a-debian-vm-step-by-step/step6.png" width="300px"/> <figcaption> <small>step6.png</small> </figcaption> </a> </figure> </div> <p>The Debian installation is very straight-forward, but there are a few pages I’d like to highlight as being important.</p> <p>Choose the 64 bit install option</p> <div class="text-center"> <figure class="img-thumbnail"> <a href="/static/post/2012-07-04-setting-up-a-debian-vm-step-by-step/step7.png"> <img style="max-width: 100%; height: auto;" src="/static/post/2012-07-04-setting-up-a-debian-vm-step-by-step/step7.png" width="300px"/> <figcaption> <small>step7.png</small> </figcaption> </a> </figure> </div> <p>At the hostname screen, choose what you would like to name your server. This name will be used later on to access the server via SSH and when setting up a network folder on your host machine (the desktop you use).</p> <div class="text-center"> <figure class="img-thumbnail"> <a href="/static/post/2012-07-04-setting-up-a-debian-vm-step-by-step/step8.png"> <img style="max-width: 100%; height: auto;" src="/static/post/2012-07-04-setting-up-a-debian-vm-step-by-step/step8.png" width="300px"/> <figcaption> <small>step8.png</small> </figcaption> </a> </figure> </div> <p>The Domain name field can be left blank, unless you require something different on your network</p> <div class="text-center"> <figure class="img-thumbnail"> <a href="/static/post/2012-07-04-setting-up-a-debian-vm-step-by-step/step9.png"> <img style="max-width: 100%; height: auto;" src="/static/post/2012-07-04-setting-up-a-debian-vm-step-by-step/step9.png" width="300px"/> <figcaption> <small>step9.png</small> </figcaption> </a> </figure> </div> <p>Continue on, making sure to hit choose the defaults for most settings until you get to the “Partition disks” page where you should choose “Guided – use entire disk and set up LVM”</p> <div class="text-center"> <figure class="img-thumbnail"> <a href="/static/post/2012-07-04-setting-up-a-debian-vm-step-by-step/step10.png"> <img style="max-width: 100%; height: auto;" src="/static/post/2012-07-04-setting-up-a-debian-vm-step-by-step/step10.png" width="300px"/> <figcaption> <small>step10.png</small> </figcaption> </a> </figure> </div> <p>For easier VM management, place all files in a single partition</p> <div class="text-center"> <figure class="img-thumbnail"> <a href="/static/post/2012-07-04-setting-up-a-debian-vm-step-by-step/step11.png"> <img style="max-width: 100%; height: auto;" src="/static/post/2012-07-04-setting-up-a-debian-vm-step-by-step/step11.png" width="300px"/> <figcaption> <small>step11.png</small> </figcaption> </a> </figure> </div> <p>Confirm changes</p> <div class="text-center"> <figure class="img-thumbnail"> <a href="/static/post/2012-07-04-setting-up-a-debian-vm-step-by-step/step12.png"> <img style="max-width: 100%; height: auto;" src="/static/post/2012-07-04-setting-up-a-debian-vm-step-by-step/step12.png" width="300px"/> <figcaption> <small>step12.png</small> </figcaption> </a> </figure> </div> <p>Finish creating partitions</p> <div class="text-center"> <figure class="img-thumbnail"> <a href="/static/post/2012-07-04-setting-up-a-debian-vm-step-by-step/step13.png"> <img style="max-width: 100%; height: auto;" src="/static/post/2012-07-04-setting-up-a-debian-vm-step-by-step/step13.png" width="300px"/> <figcaption> <small>step13.png</small> </figcaption> </a> </figure> </div> <p>There’s another confirmation page, just continue on.</p> <p>At the software selection screen, choose Mail server, SSH server and Standard system utilities</p> <div class="text-center"> <figure class="img-thumbnail"> <a href="/static/post/2012-07-04-setting-up-a-debian-vm-step-by-step/step15.png"> <img style="max-width: 100%; height: auto;" src="/static/post/2012-07-04-setting-up-a-debian-vm-step-by-step/step15.png" width="300px"/> <figcaption> <small>step15.png</small> </figcaption> </a> </figure> </div> <p>Continue choosing the defaults until installation is complete and your VM reboots.</p> <h2 id="install-sudo">Install sudo</h2> <p>Debian doesn’t come with sudo out of the box, which is a handy little tool for temporarily giving you root access.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>su
<span class="nv">$ </span>apt-get <span class="nb">install sudo</span>
<span class="nv">$ </span>nano /etc/sudoers
</pre></td></tr></tbody></table></code></pre></div></div> <p>Add below <code class="language-plaintext highlighter-rouge">root ALL=(ALL) ALL</code>:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>USERNAME ALL=(ALL) NOPASSWD: ALL
</pre></td></tr></tbody></table></code></pre></div></div> <p>replace <code class="language-plaintext highlighter-rouge">USERNAME</code> with your username. The <code class="language-plaintext highlighter-rouge">NOPASSWD</code> flag removes the requirement to enter a password every time you use <code class="language-plaintext highlighter-rouge">sudo</code>. This is <em>not</em> a good idea on a production server! Don’t be stupid!</p> <p>Reboot your machine to make the changes take effect: <code class="language-plaintext highlighter-rouge">$ reboot</code></p> <p>From now on all operations that require root should be run with the <code class="language-plaintext highlighter-rouge">sudo</code> prefix, and you will not be required to enter a password each time.</p> <h2 id="set-up-the-network">Set up the network</h2> <p>Log in to your new VM using the username and password you chose during installation. We’re going to add a network connection to your VM that will allow you to easily SSH into the server.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">sudo </span>nano /etc/network/interfaces
</pre></td></tr></tbody></table></code></pre></div></div> <p>Add the following to the end of the file:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>auto eth1
iface eth1 inet static
address 192.168.56.101
netmask 255.255.255.0
</pre></td></tr></tbody></table></code></pre></div></div> <p>and hit <code class="language-plaintext highlighter-rouge">CTRL + X</code>, then <code class="language-plaintext highlighter-rouge">Y</code> and <code class="language-plaintext highlighter-rouge">ENTER</code> to save changes.</p> <p>Now shutdown the VM</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">sudo </span>shutdown <span class="nt">-h</span> now
</pre></td></tr></tbody></table></code></pre></div></div> <p>At the main VirtualBox screen, hit the settings button. then select Network from the list on the left, choose Adapter 2 from the tabs, check “Enable Network Adapter” and choose “Host-only Adapter” from the dropdown, then hit OK</p> <div class="text-center"> <figure class="img-thumbnail"> <a href="/static/post/2012-07-04-setting-up-a-debian-vm-step-by-step/step16.png"> <img style="max-width: 100%; height: auto;" src="/static/post/2012-07-04-setting-up-a-debian-vm-step-by-step/step16.png" width="300px"/> <figcaption> <small>step16.png</small> </figcaption> </a> </figure> </div> <p>What we’ve done in this section is set up your VM to use a static IP address. This is a good idea because it allows us to always access our VM using a single IP address/hostname without having to look it up each time we boot.</p> <p>By default VirtualBox utilizes the <code class="language-plaintext highlighter-rouge">192.168.56.1</code> address in your network, and it assigns IP addresses in the <code class="language-plaintext highlighter-rouge">192.168.56.1xx</code> range to all your VMs.</p> <p>By editing <code class="language-plaintext highlighter-rouge">/etc/network/interfaces</code> we told the OS that it should expect a network resource to be available at that address.</p> <h2 id="setup-your-hosts-file">Setup your hosts file</h2> <p>You’ve got your server configured just right, now let’s add the hostname to your hosts file!</p> <p>Simply add the following entry into your hosts file. This should be done in your host machine – be it Windows or Mac OS X or Linux, not the VM itself.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>192.168.56.101    debian-vm
</pre></td></tr></tbody></table></code></pre></div></div> <p>Keep in mind that for every domain you want to setup on your VM, you’ll need to add it to your hosts file.</p> <h2 id="log-in-via-ssh">Log in via SSH!</h2> <p>Now that you have setup the network adapter in VirtualBox, and added the correct settings to the VM interfaces file, you’re ready to actually SSH into your server and begin installing everything!</p> <p>You may be wondering why do you need to SSH and not simply use the VM window to do all the work? The only reason for me is that the server does not support copy/paste! There’s a lot of typing ahead and having the ability to simply copy/paste into your terminal is going to speed everything up quite a bit!</p> <p>For SSH on Windows, I use <a href="http://kitty.9bis.com/">KiTTy</a>. It’s an SSH client that adds some nifty features to <a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html">PuTTY</a>. There’s also <a href="http://en.poderosa.org/">Poderosa</a>. For Mac/Linux just use the terminal!</p> <p>Since you’ve already added the correct lines to your hosts file, you can set the address to connect to as <code class="language-plaintext highlighter-rouge">debian-vm</code> (or whatever you chose during setup).</p> <p>Make sure to actually start the VM from VirtualBox before attempting to login. Just start it, there’s no need to login from the VirtualBox server window.</p> <h2 id="installing-the-basics">Installing the basics</h2> <p>First thing’s first, we’re going to install the basic necessities, like <code class="language-plaintext highlighter-rouge">make</code>, <code class="language-plaintext highlighter-rouge">curl</code>, <code class="language-plaintext highlighter-rouge">wget</code>, as well as the Apache server, Mercurial, Git and Subversion:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">sudo </span>apt-get <span class="nb">install </span>gcc make wget cron curl libxml2 libxml2-dev libzip-dev <span class="se">\</span>
    libbz2-dev curl libcurl4-openssl-dev libcurl3 libcurl3-gnutls libjpeg62 <span class="se">\</span>
    libjpeg62-dev libpng12-0 libpng12-dev libmcrypt-dev libmcrypt4 libxslt1-dev <span class="se">\</span>
    libxml2-dev apache2 apache2-mpm-prefork apache2-prefork-dev apache2-utils <span class="se">\</span>
    apache2.2-common git mercurial subversion libcupsys2 samba samba-common
</pre></td></tr></tbody></table></code></pre></div></div> <p>Edit the new Apache2 config file, <code class="language-plaintext highlighter-rouge">$ sudo nano /etc/apache2/httpd.conf</code> and add</p> <pre><code class="language-apacheconfig">ServerName localhost
</code></pre> <p>You’ll now have the Apache server up and running! Just point your browser to <a href="http://debian-vm">http://debian-vm</a> and behold the magic!</p> <div class="text-center"> <figure class="img-thumbnail"> <a href="/static/post/2012-07-04-setting-up-a-debian-vm-step-by-step/step17.png"> <img style="max-width: 100%; height: auto;" src="/static/post/2012-07-04-setting-up-a-debian-vm-step-by-step/step17.png" width="300px"/> <figcaption> <small>step17.png</small> </figcaption> </a> </figure> </div> <p>Let’s enable Apache’s <code class="language-plaintext highlighter-rouge">ModRewrite</code> module now:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">sudo </span>a2enmod rewrite
</pre></td></tr></tbody></table></code></pre></div></div> <p>This module allows us to use htaccess for pretty URLs.</p> <h2 id="installing-mysql">Installing MySQL</h2> <p>We’ll be installing MySQL 5.1 from repo, as this is easiest and works fairly well.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">sudo </span>apt-get <span class="nb">install </span>mysql-client-5.1 mysql-server-5.1
</pre></td></tr></tbody></table></code></pre></div></div> <p>On the screens asking for a MySQL password, leave it blank and hit enter. Since this is only for a local server there’s no point in setting up a password.</p> <blockquote class="danger"> <p>Do NOT use a blank password in production environments! That’s just stupid.</p> </blockquote> <h2 id="setting-up-mysql">Setting up MySQL</h2> <p>We need to update the IP address that MySQL will listen to for connections by editing <code class="language-plaintext highlighter-rouge">$ sudo nano /etc/mysql/my.cnf</code></p> <p>Do a search for <code class="language-plaintext highlighter-rouge">bind-address</code> (<code class="language-plaintext highlighter-rouge">CTRL + W</code>) and change the setting to:</p> <div class="language-ini highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c">;bind-address           = 127.0.0.1
</span><span class="py">bind-address</span>            <span class="p">=</span> <span class="s">192.168.56.101</span>
</pre></td></tr></tbody></table></code></pre></div></div> <p>Now let’s grant the root MySQL user all permissions:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>$ mysql -u root
GRANT ALL ON *.* TO 'root'@'%';
exit;
</pre></td></tr></tbody></table></code></pre></div></div> <p>and restart the service:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">sudo </span>service mysql restart
</pre></td></tr></tbody></table></code></pre></div></div> <h2 id="compiling-php-549-from-source">Compiling PHP 5.4.9 from Source</h2> <p>Next we’ll compile PHP from source.</p> <p>The initial steps leading up to the compiling are fairly easy, we’re going to install all build dependencies that PHP5 requires and also download the actual source from php.net:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">sudo </span>apt-get build-dep php5
<span class="nv">$ </span>wget http://us2.php.net/get/php-5.4.9.tar.gz/from/this/mirror
<span class="nv">$ </span><span class="nb">mv </span>mirror php-5.4.9.tar.gz
<span class="nv">$ </span><span class="nb">tar</span> <span class="nt">-xzf</span> php-5.4.9.tar.gz
<span class="nv">$ </span><span class="nb">cd </span>php-5.4.4
</pre></td></tr></tbody></table></code></pre></div></div> <p>Now we’ll actually compile PHP. The options shown are fairly standard and should get you up and running with most applications. This process will take a few minutes.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>./configure <span class="nt">--with-apxs2</span><span class="o">=</span>/usr/bin/apxs2 <span class="nt">--with-config-file-path</span><span class="o">=</span>/etc/php5 <span class="se">\</span>
    <span class="nt">--with-mysql</span><span class="o">=</span>mysqlnd <span class="nt">--enable-inline-optimization</span> <span class="nt">--disable-debug</span> <span class="se">\</span>
    <span class="nt">--enable-bcmath</span> <span class="nt">--enable-calendar</span> <span class="nt">--enable-ctype</span> <span class="nt">--enable-ftp</span> <span class="nt">--with-gd</span> <span class="se">\</span>
    <span class="nt">--disable-sigchild</span> <span class="nt">--with-jpeg-dir</span><span class="o">=</span>/usr <span class="nt">--with-png-dir</span><span class="o">=</span>/usr <span class="nt">--with-zlib</span><span class="o">=</span><span class="nb">yes</span> <span class="se">\</span>
    <span class="nt">--with-zlib-dir</span><span class="o">=</span>/usr <span class="nt">--with-openssl</span> <span class="nt">--with-xsl</span><span class="o">=</span>/usr <span class="nt">--with-mcrypt</span><span class="o">=</span>/usr <span class="se">\</span>
    <span class="nt">--with-mhash</span><span class="o">=</span>/usr <span class="nt">--enable-mbstring</span><span class="o">=</span>all <span class="nt">--with-curl</span><span class="o">=</span>/usr/bin <span class="nt">--enable-mbregex</span> <span class="se">\</span>
    <span class="nt">--with-bz2</span><span class="o">=</span>/usr <span class="nt">--with-iconv</span> <span class="nt">--with-pdo-mysql</span><span class="o">=</span>mysqlnd <span class="nt">--enable-fileinfo</span> <span class="se">\</span>
    <span class="nt">--with-pear</span> <span class="nt">--enable-exif</span> <span class="nt">--enable-soap</span> <span class="nt">--with-regex</span> <span class="nt">--enable-zip</span> <span class="nt">--with-tidy</span> <span class="se">\</span>
    <span class="nt">--sysconfdir</span><span class="o">=</span>/etc <span class="nt">--with-gettext</span> <span class="se">\</span>
    <span class="nt">--with-freetype-dir</span><span class="o">=</span>/usr/include/freetype2/freetype <span class="nt">--with-libxml-dir</span> <span class="se">\</span>
    <span class="nt">--enable-sockets</span> <span class="nt">--enable-pcntl</span>
<span class="nv">$ </span>make
<span class="nv">$ </span><span class="nb">sudo </span>make <span class="nt">-i</span> <span class="nb">install</span>
</pre></td></tr></tbody></table></code></pre></div></div> <p>Create a symlink to the bin</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">sudo ln</span> <span class="nt">-s</span> /usr/local/bin/php /usr/bin/php
</pre></td></tr></tbody></table></code></pre></div></div> <p>Let the Apache web server know about PHP by first creating a conf file, <code class="language-plaintext highlighter-rouge">$ sudo nano /etc/apache2/mods-available/php5.conf</code>, and adding</p> <pre><code class="language-apacheconfig">AddType application/x-httpd-php .php .phtml .php3
AddType application/x-httpd-php-source .phps
</code></pre> <p>And finally enable PHP as an Apache module</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">sudo </span>a2enmod php5
</pre></td></tr></tbody></table></code></pre></div></div> <p>The last steps are copying over the default ini file and restarting Apache</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">sudo mkdir</span> /etc/php5/
<span class="nv">$ </span><span class="nb">sudo cp</span> ~/php-5.4.9/php.ini-development /etc/php5/php.ini
<span class="nv">$ </span><span class="nb">sudo </span>service apache2 restart
</pre></td></tr></tbody></table></code></pre></div></div> <p>Try it out with <code class="language-plaintext highlighter-rouge">$ php -v</code> and you should get back confirmation that you’ve successfully installed PHP.</p> <p>Before moving into editing the php.ini, or adding sites to apache’s vhosts, I want to setup some simple shortcuts for quickly editing these and other files.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">cd</span>
<span class="nv">$ </span><span class="nb">mkdir </span>_lamp <span class="o">&amp;&amp;</span> <span class="nb">cd </span>_lamp
<span class="nv">$ </span><span class="nb">sudo ln</span> <span class="nt">-s</span> /etc/apache2/httpd.conf
<span class="nv">$ </span><span class="nb">sudo ln</span> <span class="nt">-s</span> /etc/apache2/sites-available/default
<span class="nv">$ </span><span class="nb">sudo ln</span> <span class="nt">-s</span> /etc/php5/php.ini
</pre></td></tr></tbody></table></code></pre></div></div> <p>Now whenever you want to update server-related files, just go to this <code class="language-plaintext highlighter-rouge">_lamp</code> folder in your home directory and edit the files directly.</p> <p>Now we’ll want to install Xdebug (because you’re using Xdebug to debug, right?)</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">cd</span>
<span class="nv">$ </span>git clone git://github.com/derickr/xdebug.git
<span class="nv">$ </span><span class="nb">cd </span>xdebug<span class="k">*</span>
<span class="nv">$ </span>phpize
<span class="nv">$ </span>./configure <span class="nt">--enable-xdebug</span>
<span class="nv">$ </span>make
<span class="nv">$ </span><span class="nb">sudo </span>make <span class="nb">install</span>
</pre></td></tr></tbody></table></code></pre></div></div> <p>We’ll also install some popular extensions:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">sudo </span>pecl <span class="nb">install </span>intl
<span class="nv">$ </span><span class="nb">sudo </span>pecl <span class="nb">install </span>memcache
<span class="nv">$ </span><span class="nb">sudo </span>pecl <span class="nb">install </span>pecl_http
</pre></td></tr></tbody></table></code></pre></div></div> <p>And finally, configure our <code class="language-plaintext highlighter-rouge">php.ini</code> with all the extensions we’ve installed, as well as some other sane defaults</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">sudo </span>nano ~/_lamp/php.ini
</pre></td></tr></tbody></table></code></pre></div></div> <p>To do a text search in nano, you press <code class="language-plaintext highlighter-rouge">CTRL + W</code>. To go to the next search result, press <code class="language-plaintext highlighter-rouge">CTRL + W</code> again and just hit <code class="language-plaintext highlighter-rouge">ENTER</code> without typing anything.</p> <div class="language-ini highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="c">; ...
</span><span class="py">error_reporting</span> <span class="p">=</span> <span class="s">-1</span>
<span class="c">; ...
</span><span class="py">display_errors</span> <span class="p">=</span> <span class="s">On</span>
</pre></td></tr></tbody></table></code></pre></div></div> <p>We want to use <code class="language-plaintext highlighter-rouge">-1</code> for <code class="language-plaintext highlighter-rouge">error_reporting</code> to get back every single error, warning and notice possible.</p> <p>Tell PHP where MySQL stuff is:</p> <div class="language-ini highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="py">pdo_mysql.default_socket</span> <span class="p">=</span> <span class="s">/var/run/mysqld/mysqld.sock</span>
<span class="py">mysql.default_socket</span> <span class="p">=</span> <span class="s">/var/run/mysqld/mysqld.sock</span>
</pre></td></tr></tbody></table></code></pre></div></div> <p>Search for <code class="language-plaintext highlighter-rouge">date.timezone</code> and edit:</p> <div class="language-ini highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c">; ...
;date.timezone =
</span><span class="py">date.timezone</span> <span class="p">=</span> <span class="s">America/Chicago</span>
</pre></td></tr></tbody></table></code></pre></div></div> <p>Right above date.timezone, add the following blocks:</p> <div class="language-ini highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="nn">[xdebug]</span>
<span class="py">zend_extension</span><span class="p">=</span><span class="s">/usr/local/lib/php/extensions/no-debug-non-zts-20100525/xdebug.so</span>
<span class="py">xdebug.remote_enable</span><span class="p">=</span><span class="s">1</span>
<span class="py">xdebug.remote_connect_back</span><span class="p">=</span><span class="s">1</span>
<span class="py">xdebug.remote_port</span><span class="p">=</span><span class="s">9000</span>
<span class="py">xdebug.show_local_vars</span><span class="p">=</span><span class="s">0</span>
<span class="py">xdebug.var_display_max_data</span><span class="p">=</span><span class="s">10000</span>
<span class="py">xdebug.var_display_max_depth</span><span class="p">=</span><span class="s">20</span>
<span class="py">xdebug.show_exception_trace</span><span class="p">=</span><span class="s">0</span>

<span class="py">extension</span><span class="p">=</span><span class="s">/usr/local/lib/php/extensions/no-debug-non-zts-20100525/http.so</span>
<span class="py">extension</span><span class="p">=</span><span class="s">/usr/local/lib/php/extensions/no-debug-non-zts-20100525/memcache.so</span>
<span class="py">extension</span><span class="p">=</span><span class="s">/usr/local/lib/php/extensions/no-debug-non-zts-20100525/intl.so</span>
</pre></td></tr></tbody></table></code></pre></div></div> <p>Exit nano by hitting <code class="language-plaintext highlighter-rouge">CTRL + X</code>, type <code class="language-plaintext highlighter-rouge">Y</code> to confirm and hit <code class="language-plaintext highlighter-rouge">ENTER</code> to exit.</p> <p>Now restart Apache:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">sudo </span>service apache2 restart
</pre></td></tr></tbody></table></code></pre></div></div> <p>You’ll now have the Xdebug extension installed, and all the new configuration settings changed.</p> <p>To test this out, we can print out <code class="language-plaintext highlighter-rouge">phpinfo()</code>, but first we need to give our user permission to edit the webroot. Simply replace <code class="language-plaintext highlighter-rouge">USERNAME</code> with your username in the lines below:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">sudo </span>usermod <span class="nt">-a</span> <span class="nt">-G</span> www-data USERNAME
<span class="nv">$ </span><span class="nb">sudo chown</span> <span class="nt">-R</span> root:www-data /var/www
<span class="nv">$ </span><span class="nb">sudo chmod</span> <span class="nt">-R</span> 775 /var/www
</pre></td></tr></tbody></table></code></pre></div></div> <p>Now go to the webroot, remove <code class="language-plaintext highlighter-rouge">index.html</code> that is currently in there and replace it with a PHP file:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">cd</span> /var/www
<span class="nv">$ </span><span class="nb">rm</span> <span class="nt">-F</span> index.html
<span class="nv">$ </span>nano index.php
</pre></td></tr></tbody></table></code></pre></div></div> <p>and enter in <code class="language-plaintext highlighter-rouge">&lt;?php phpinfo();</code>.</p> <p><a href="http://debian-vm/">Refresh your browser window</a>, which should show your PHP’s information. Do a search for <code class="language-plaintext highlighter-rouge">xdebug</code> and if you find it you’ll have done everything correctly.</p> <h2 id="setting-up-samba">Setting up SAMBA</h2> <p>SAMBA is a great utility that allows you to access remote locations as a shared network file. This will be the way we access the files on our server for editing.</p> <p>Replace <code class="language-plaintext highlighter-rouge">USERNAME</code> with your username:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">sudo </span>adduser USERNAME www-data
</pre></td></tr></tbody></table></code></pre></div></div> <p>And edit the SAMBA config file <code class="language-plaintext highlighter-rouge">$ sudo nano /etc/samba/smb.conf</code></p> <div class="language-ini highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="nn">[www]</span>
<span class="py">comment</span> <span class="p">=</span> <span class="s">www</span>
<span class="py">path</span> <span class="p">=</span> <span class="s">/var/www</span>
<span class="py">public</span> <span class="p">=</span> <span class="s">yes</span>
<span class="py">writable</span> <span class="p">=</span> <span class="s">yes</span>
<span class="err">valid</span> <span class="py">users</span> <span class="p">=</span> <span class="s">USERNAME</span>
<span class="err">create</span> <span class="py">mask</span> <span class="p">=</span> <span class="s">0775</span>
<span class="err">directory</span> <span class="py">mask</span> <span class="p">=</span> <span class="s">0775</span>
<span class="err">force</span> <span class="py">user</span> <span class="p">=</span> <span class="s">USERNAME</span>
<span class="err">force</span> <span class="py">group</span> <span class="p">=</span> <span class="s">www-data</span>
<span class="err">follow</span> <span class="py">symlinks</span> <span class="p">=</span> <span class="s">yes</span>
<span class="err">wide</span> <span class="py">links</span> <span class="p">=</span> <span class="s">yes</span>
</pre></td></tr></tbody></table></code></pre></div></div> <p>Replace <code class="language-plaintext highlighter-rouge">USERNAME</code> with your username.</p> <p>Set up a password:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">sudo </span>smbpasswd <span class="nt">-a</span> USERNAME
</pre></td></tr></tbody></table></code></pre></div></div> <p>You’ll now be able to access the webroot and map it as a network drive. Just open up Windows Explorer (or the tool of your OS of choice) and go to <code class="language-plaintext highlighter-rouge">\\debian-vm</code></p> <p>Awesome!</p> <h2 id="setting-up-apache">Setting up Apache</h2> <p>I like to keep all my site configurations in a single file, as opposed to creating a separate file for each site. So let’s edit the default <code class="language-plaintext highlighter-rouge">$ sudo nano ~/_lamp/default</code></p> <p>We can erase everything in here, and enter the following</p> <pre><code class="language-apacheconfig">&lt;VirtualHost *:80&gt;
    DocumentRoot "/var/www/"
    ServerName localhost
    ServerAlias debian-vm
    ServerAlias *
&lt;/VirtualHost&gt;
</code></pre> <p>The <code class="language-plaintext highlighter-rouge">ServerAlias *</code> is your catch-all.</p> <p>Every site you add can always be in this file. Just copy/paste the above, changing out the correct bits. For example, for a site called “google.dev”:</p> <pre><code class="language-apacheconfig">&lt;VirtualHost *:80&gt;
    DocumentRoot "/var/www/google.dev"
    ServerName google.dev
    ServerAlias www.google.dev
&lt;/VirtualHost&gt;
</code></pre> <p>and restart Apache with <code class="language-plaintext highlighter-rouge">$ sudo service apache2 restart</code>.</p> <h2 id="finishing-up">Finishing up</h2> <p>You’ve now got a fully functional, working Linux VM running independently of what you have on your daily OS.</p> <p>Not only did you install Apache, PHP and MySQL, but you also set up important tools like Xdebug and PHPUnit, both of which I will be writing about in articles not too far in the future!</p> <p>Remember, there’s no shame on using Windows or Mac OS X as your operating system, but for best results you should always use a Linux VM to handle all your development stuff!</p> <hr class="invisible"> <ul class="pager"> <li class="previous"> <a href="/blog/setting-up-an-ubuntu-vm-step-by-step" data-toggle="tooltip" data-placement="top" title="Setting Up an Ubuntu VM, Step by Step"> Previous &rarr;<br> <span>Setting Up an Ubuntu VM, Step by Step</span> </a> </li> <li class="next"> <a href="/blog/xdebug-and-you-why-you-should-be-using-a-real-debugger" data-toggle="tooltip" data-placement="top" title="Xdebug and You: Why You Should be Using a Real Debugger"> &larr; Next<br> <span>Xdebug and You: Why You Should be Using a Real Debugger</span> </a> </li> </ul> <hr class="invisible"> <div class="comment"> </div> </div> </div> </div> </article> <footer> <div class="container"> <div class="row"> <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"> <ul class="list-inline text-center footer-icons"> <li><a href="mailto:jtreminio@gmail.com"><i data-feather="mail"></i></a></li> <li> <a href="https://github.com/jtreminio" target="_blank"> <i data-feather="github"></i> </a> </li> <li> <a href="https://twitter.com/juantreminio" target="_blank"> <i data-feather="twitter"></i> </a> </li> <li> <a href="https://www.linkedin.com/in/jtreminio-1" target="_blank"> <i data-feather="linkedin"></i> </a> </li> </ul> </div> </div> </div> </footer> <link href="//cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" rel="stylesheet" type="text/css"/> <link href="//cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" rel="stylesheet" type="text/css"/> <script src="//cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js"></script> <script src="//cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js"></script> <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"> <div class="pswp__bg"></div> <div class="pswp__scroll-wrap"> <div class="pswp__container"> <div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div> </div> <div class="pswp__ui pswp__ui--hidden"> <div class="pswp__top-bar"> <div class="pswp__counter"></div> <button class="pswp__button pswp__button--close" title="Close (Esc)"></button> <button class="pswp__button pswp__button--share" title="Share"></button> <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button> <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button> <div class="pswp__preloader"> <div class="pswp__preloader__icn"> <div class="pswp__preloader__cut"> <div class="pswp__preloader__donut"></div> </div> </div> </div> </div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"> <div class="pswp__share-tooltip"></div> </div> <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"> </button> <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"> </button> <div class="pswp__caption"> <div class="pswp__caption__center"></div> </div> </div> </div> </div> </body> <script src="/static/js/custom.js?1643036962"></script> </html>