<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"> <meta name="description" content="Juan Treminio - Dallas based senior web developer"> <meta name="keywords" content=""> <meta property="og:title" content="Setting Up an Ubuntu VM, Step by Step - Juan Treminio - Senior Web Developer Blog"> <meta property="og:type" content="article"> <meta property="og:description" content=" This tutorial has been replaced by Setting Up a Debian VM, Step by Step. "> <meta property="article:tag" content="tutorial"> <meta property="article:tag" content="server"> <meta property="article:tag" content="vm"> <meta property="og:url" content="https://jtreminio.com/blog/setting-up-an-ubuntu-vm-step-by-step"> <meta property="og:site_name" content="Juan Treminio - Senior Web Developer Blog"> <title>Setting Up an Ubuntu VM, Step by Step - Juan Treminio - Senior Web Developer Blog</title> <link rel="shortcut icon" type="image/png" href="/static/favicon/favicon.ico"/> <link rel="shortcut icon" type="image/png" href="/static/favicon/favicon-96x96.png" sizes="96x96"/> <link rel="shortcut icon" type="image/png" href="/static/favicon/favicon-32x32.png" sizes="32x32"/> <link rel="canonical" href="https://jtreminio.com/blog/setting-up-an-ubuntu-vm-step-by-step"> <link href="//cdn.jsdelivr.net/npm/bootstrap-no-fonts-no-js@3.3.7/css/bootstrap.min.css" rel="stylesheet" type="text/css"/> <link href="//cdnjs.cloudflare.com/ajax/libs/startbootstrap-clean-blog/3.3.7/css/clean-blog.min.css" rel="stylesheet" type="text/css"/> <link href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css"/> <link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css"/> <script src="//cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script> <link rel="stylesheet" href="/static/css/rouge.css"/> <link rel="stylesheet" href="/static/css/custom.css?1642997114"/> <link rel="stylesheet" href="/static/css/dark.css?1642997114" data-style="dark"/> </head> <body> <nav class="navbar navbar-default navbar-expand-md navbar-custom navbar-fixed-top is-fixed is-visible"> <div class="container-fluid"> <div class="navbar-header page-scroll"> <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar-collapse"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand hidden-xs hidden-sm" href="/">Juan Treminio - Senior Web Developer Blog</a> <a class="navbar-brand visible-xs visible-sm" href="/">Juan Treminio - Developer Blog</a> </div> <div class="collapse navbar-collapse" id="main-navbar-collapse"> <ul class="nav navbar-nav navbar-right"> <li><a href="/">Blog</a></li> <li><a href="/about">About</a></li> <li><a href="/hire-me">Hire Me</a></li> <li> <a class="btn theme-toggle"> <span class="theme-dark"><i data-feather="moon"></i> Dark Theme</span> <span class="theme-light"><i data-feather="sun"></i> Light Theme</span> </a> </li> </ul> </div> </div> </nav> <header class="intro-header"> <div class="container"> <div class="row"> <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"> <div class="post-heading"> <h1>Setting Up an Ubuntu VM, Step by Step</h1> <h2 class="subheading">Deprecated, use PuPHPet</h2> <span class="meta">Posted on Apr 22, 2012 <br/> <i class="feather icon-tag"></i>Tags <a href="/tags#tutorial">tutorial</a>, <a href="/tags#server">server</a>, <a href="/tags#vm">vm</a> </span> </div> </div> </div> </div> </header> <article> <div class="container"> <div class="row"> <div class="post col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"> <blockquote class="warning"> <p>This tutorial has been replaced by <a href="/blog/setting-up-a-debian-vm-step-by-step">Setting Up a Debian VM, Step by Step</a>.</p> </blockquote> <p><a href="http://www.reddit.com/r/PHP/comments/s8bwt/what_is_your_php_development_environment_like/">Recently on r/php</a> there was a thread asking users about their development environments. The usual answers came tumbling out – mostly about IDEs and methods for uploading their code (side note: FTP is a horrible way to do this!). Out of 144 responses, I noticed that very few mentioned virtual machines. Most that said anything about operating systems or platforms made it clear they were developing on their local machine, with no separation between their everyday driver and their development environment.</p> <p>This has got to stop, especially amongst PHP developers where we have tools like XAMPP that require nothing more than a simple zip extract to get up and running with your own “server”.</p> <h2 id="why-do-you-need-a-vm">Why do you need a VM?</h2> <p>There are many reasons to do your development work on a virtual machine over your daily desktop:</p> <ul> <li>It separates out programs and settings from your local desktop that can interfere with the operations of a server. Did you know that if you run Skype and try to install XAMPP, the server won’t start? That’s because Skype is using port 80 for its connection, and you have to manually go in and disable this for XAMPP to work,</li> <li>It keeps server-related software out of your desktop,</li> <li>If you’re running Windows and a prepackaged server like XAMPP, you may have run into some flakiness when trying to run PEAR, or install memcache or APC, or several of the more popular PHP extensions. XAMPP is great for getting an “it just works” server up and running within minutes, but the drawbacks become too great when you want to do something more in-depth,</li> <li>The most important reason of all is that you want your development environment to mimic your production environment as closely as possible, and it’s even better if it is an exact mirror of all the programs and settings. What usually happens when you start a new job at a development company that has its act together is that you’re given a VM image to use on your computer that mimics the production server. The reasons for having your dev environment mimic prod is that it greatly reduces the chances of hearing the phrase, “It works on my computer” because now you don’t have to deal with the minor differences between software versions messing up your application. This tutorial, however, is not meant to replace such a scenario. My aim is to get you up and running a generic VM that allows you to quickly setup new, or modify existing, applications, as is the case for freelancers who have multiple clients that are running on generic webhosts.</li> </ul> <h2 id="getting-started">Getting Started</h2> <p>There’s two popular VM applications: <a href="https://www.virtualbox.org/">Oracle VirtualBox</a> and <a href="http://www.vmware.com/">VMare</a>. For this tutorial we’ll be using Virtualbox, which works across all major operating systems.</p> <p><a href="https://www.virtualbox.org/wiki/Downloads">Download the appropriate package from VirtualBox’s website</a> and install it on your computer. All the default settings will do fine.</p> <p>The VM OS we’ll be installing is Ubuntu Server 32-bit, which as of the time of this article is still version 11.10, but I have tested everything in 12.04 beta and it works the same.</p> <p>We’ll using this OS for a couple of reasons:</p> <ul> <li>Ubuntu’s apt-get is great for quickly getting packages,</li> <li>For production servers, the 64-bit version is recommended, but as this is just a local server where we won’t give it the preferred 4GB of ram, the 32-bit should be fine,</li> <li>We’re using the Server edition as we have no need for the GUI</li> </ul> <p><a href="http://www.ubuntu.com/start-download?distro=server&amp;bits=32&amp;release=11.10">Download Ubuntu Server ISO to your computer</a>.</p> <blockquote class="danger"> <p>The VM we will end up building and running is <em>not</em> secure and should not be used in a production environment. You should only set this up as a virtual machine on your local desktop!</p> </blockquote> <h2 id="install-the-vm">Install the VM</h2> <p>Open Virtualbox and hit the New button.</p> <div class="text-center"> <figure class="img-thumbnail"> <a href="/static/post/2012-04-22-setting-up-an-ubuntu-vm-step-by-step/step1.png"> <img style="max-width: 100%; height: auto;" src="/static/post/2012-04-22-setting-up-an-ubuntu-vm-step-by-step/step1.png" width="300px"/> <figcaption> <small>step1.png</small> </figcaption> </a> </figure> </div> <p>At the Create New Virtual Machine screen, name your VM “Ubuntu VM” and hit Next</p> <div class="text-center"> <figure class="img-thumbnail"> <a href="/static/post/2012-04-22-setting-up-an-ubuntu-vm-step-by-step/step2.png"> <img style="max-width: 100%; height: auto;" src="/static/post/2012-04-22-setting-up-an-ubuntu-vm-step-by-step/step2.png" width="300px"/> <figcaption> <small>step2.png</small> </figcaption> </a> </figure> </div> <p>Give your VM 1GB of RAM. If your computer has less than 6GB of RAM, you should probably lower it down to 512MB.</p> <div class="text-center"> <figure class="img-thumbnail"> <a href="/static/post/2012-04-22-setting-up-an-ubuntu-vm-step-by-step/step3.png"> <img style="max-width: 100%; height: auto;" src="/static/post/2012-04-22-setting-up-an-ubuntu-vm-step-by-step/step3.png" width="300px"/> <figcaption> <small>step3.png</small> </figcaption> </a> </figure> </div> <p>Click next until you reach the Virtual desk storage details page, and select “Fixed size”</p> <div class="text-center"> <figure class="img-thumbnail"> <a href="/static/post/2012-04-22-setting-up-an-ubuntu-vm-step-by-step/step4.png"> <img style="max-width: 100%; height: auto;" src="/static/post/2012-04-22-setting-up-an-ubuntu-vm-step-by-step/step4.png" width="300px"/> <figcaption> <small>step4.png</small> </figcaption> </a> </figure> </div> <p>Give it 20 GB of space</p> <div class="text-center"> <figure class="img-thumbnail"> <a href="/static/post/2012-04-22-setting-up-an-ubuntu-vm-step-by-step/step5.png"> <img style="max-width: 100%; height: auto;" src="/static/post/2012-04-22-setting-up-an-ubuntu-vm-step-by-step/step5.png" width="300px"/> <figcaption> <small>step5.png</small> </figcaption> </a> </figure> </div> <p>Virtualbox will now create the initial VM image file which may take a minute or two. When it is finished, close the process by hitting the “Create” button.</p> <p>Right now you have your VM set up, but haven’t installed the actual operating system on it. To do so, simply double click on the Ubuntu VM line and click “next”.</p> <div class="text-center"> <figure class="img-thumbnail"> <a href="/static/post/2012-04-22-setting-up-an-ubuntu-vm-step-by-step/step6.png"> <img style="max-width: 100%; height: auto;" src="/static/post/2012-04-22-setting-up-an-ubuntu-vm-step-by-step/step6.png" width="300px"/> <figcaption> <small>step6.png</small> </figcaption> </a> </figure> </div> <p>Click the folder icon and search for your Ubuntu Server iso file, clicking next until the VM boots up and you’re presented with the Ubuntu language selection screen.</p> <div class="text-center"> <figure class="img-thumbnail"> <a href="/static/post/2012-04-22-setting-up-an-ubuntu-vm-step-by-step/step7.png"> <img style="max-width: 100%; height: auto;" src="/static/post/2012-04-22-setting-up-an-ubuntu-vm-step-by-step/step7.png" width="300px"/> <figcaption> <small>step7.png</small> </figcaption> </a> </figure> </div> <p>The Ubuntu installation is very straight-forward, but there are a few pages I’d like to highlight as being important.</p> <p>At the hostname screen, choose what you would like to name your server. This name will be used later on to access the server via SSH and when setting up a network folder on your host machine (the desktop you use).</p> <div class="text-center"> <figure class="img-thumbnail"> <a href="/static/post/2012-04-22-setting-up-an-ubuntu-vm-step-by-step/step8.png"> <img style="max-width: 100%; height: auto;" src="/static/post/2012-04-22-setting-up-an-ubuntu-vm-step-by-step/step8.png" width="300px"/> <figcaption> <small>step8.png</small> </figcaption> </a> </figure> </div> <p>Continue on, making sure to hit choose the defaults for most settings, until you get to the “Partition disks” page, where you simply select Yes with your arrow keys, and hit enter</p> <div class="text-center"> <figure class="img-thumbnail"> <a href="/static/post/2012-04-22-setting-up-an-ubuntu-vm-step-by-step/step9.png"> <img style="max-width: 100%; height: auto;" src="/static/post/2012-04-22-setting-up-an-ubuntu-vm-step-by-step/step9.png" width="300px"/> <figcaption> <small>step9.png</small> </figcaption> </a> </figure> </div> <p>You’ll soon get another confirmation screen, follow the same steps</p> <div class="text-center"> <figure class="img-thumbnail"> <a href="/static/post/2012-04-22-setting-up-an-ubuntu-vm-step-by-step/step10.png"> <img style="max-width: 100%; height: auto;" src="/static/post/2012-04-22-setting-up-an-ubuntu-vm-step-by-step/step10.png" width="300px"/> <figcaption> <small>step10.png</small> </figcaption> </a> </figure> </div> <p>Make sure you disable automatic updates</p> <div class="text-center"> <figure class="img-thumbnail"> <a href="/static/post/2012-04-22-setting-up-an-ubuntu-vm-step-by-step/step11.png"> <img style="max-width: 100%; height: auto;" src="/static/post/2012-04-22-setting-up-an-ubuntu-vm-step-by-step/step11.png" width="300px"/> <figcaption> <small>step11.png</small> </figcaption> </a> </figure> </div> <p>And on the next page, select “OpenSSH Server”, “Mail server”, and “Samba file server” using the spacebar.</p> <div class="text-center"> <figure class="img-thumbnail"> <a href="/static/post/2012-04-22-setting-up-an-ubuntu-vm-step-by-step/step12.png"> <img style="max-width: 100%; height: auto;" src="/static/post/2012-04-22-setting-up-an-ubuntu-vm-step-by-step/step12.png" width="300px"/> <figcaption> <small>step12.png</small> </figcaption> </a> </figure> </div> <p>Continue choosing the defaults until installation is complete and your VM reboots.</p> <h2 id="set-up-the-network">Set up the network</h2> <p>Virtualbox has this great feature called Snapshots, where you can save the state of your VM at any given point in time. This is great for novices that experiment a bit and often end up with a broken server – just load up the snapshot and start off from a verified working copy!</p> <p>Before we do that, though, let’s set up one small configuration.</p> <p>Log in to your new VM using the username and password you chose during installation. We’re going to add a network connection to your VM that will allow you to easily SSH into the server.</p> <p><code class="language-plaintext highlighter-rouge">$ sudo nano /etc/network/interfaces</code></p> <p>Add the following to the end of the file:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>auto eth1
iface eth1 inet static
address 192.168.56.101
netmask 255.255.255.0
</pre></td></tr></tbody></table></code></pre></div></div> <p>and hit <code class="language-plaintext highlighter-rouge">CTRL + X</code>, then <code class="language-plaintext highlighter-rouge">Y</code> and <code class="language-plaintext highlighter-rouge">ENTER</code> to save changes.</p> <p>Now shutdown the VM</p> <p><code class="language-plaintext highlighter-rouge">$ sudo shutdown -h now</code></p> <p>At the main VirtualBox screen, hit the settings button</p> <div class="text-center"> <figure class="img-thumbnail"> <a href="/static/post/2012-04-22-setting-up-an-ubuntu-vm-step-by-step/step13.png"> <img style="max-width: 100%; height: auto;" src="/static/post/2012-04-22-setting-up-an-ubuntu-vm-step-by-step/step13.png" width="300px"/> <figcaption> <small>step13.png</small> </figcaption> </a> </figure> </div> <p>Select Network from the list on the left, choose Adapter 2 from the tabs, check “Enable Network Adapter” and choose “Host-only Adapter” from the dropdown, then hit OK</p> <div class="text-center"> <figure class="img-thumbnail"> <a href="/static/post/2012-04-22-setting-up-an-ubuntu-vm-step-by-step/step14.png"> <img style="max-width: 100%; height: auto;" src="/static/post/2012-04-22-setting-up-an-ubuntu-vm-step-by-step/step14.png" width="300px"/> <figcaption> <small>step14.png</small> </figcaption> </a> </figure> </div> <p>What we’ve done in this section is set up your VM to use a static IP address. This is a good idea because it allows us to always access our VM using a single IP address/hostname without having to look it up each time we boot.</p> <p>By default VirtualBox utilizes the <code class="language-plaintext highlighter-rouge">192.168.56.1</code> address in your network, and it assigns IP addresses in the <code class="language-plaintext highlighter-rouge">192.168.56.1xx</code> range to all your VMs.</p> <p>By editing the <code class="language-plaintext highlighter-rouge">/etc/network/interfaces</code> file we told Ubuntu that it should expect a network resource to be available at that address.</p> <h2 id="take-a-snapshot">Take a snapshot</h2> <p>As mentioned previously, Snapshots are a great way to save the current state of your VM and quickly revert back to it in case you ever screw it up.</p> <p>Setting one up is extremely simple, just select the Snapshots icon in the mainscreen and CTRL + SHIFT + S to create a new Snapshot.</p> <div class="text-center"> <figure class="img-thumbnail"> <a href="/static/post/2012-04-22-setting-up-an-ubuntu-vm-step-by-step/step15.png"> <img style="max-width: 100%; height: auto;" src="/static/post/2012-04-22-setting-up-an-ubuntu-vm-step-by-step/step15.png" width="300px"/> <figcaption> <small>step15.png</small> </figcaption> </a> </figure> </div> <p>If you ever need to, simply come back to this screen and restore that snapshot.</p> <h2 id="setup-your-hosts-file">Setup your hosts file</h2> <p>You’ve got your server configured just right, now let’s add the hostname to your hosts file!</p> <p>Simply add the following entry into your hosts file.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>192.168.56.101    ubuntu-vm
</pre></td></tr></tbody></table></code></pre></div></div> <p>Keep in mind that for every domain you want to setup on your VM, you’ll need to add it to your hosts file.</p> <h2 id="log-in-via-ssh">Log in via SSH!</h2> <p>Now that you have setup the network adapter in VirtualBox, and added the correct settings to the VM interfaces file, you’re ready to actually SSH into your server and begin installing everything!</p> <p>You may be wondering why do you need to SSH and not simply use the VM window to do all the work? The only reason for me is that the server does not support copy/paste! There’s a lot of typing ahead and having the ability to simply copy/paste into your terminal is going to speed everything up quite a bit!</p> <p>For SSH on Windows, I use <a href="http://kitty.9bis.com/">Kitty</a>. It’s an SSH client that adds some nifty features to <a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html">PuTTY</a>. There’s also <a href="http://en.poderosa.org/">Poderosa</a>. For Mac/Linux just use the terminal!</p> <p>Since you’ve already added the correct lines to your hosts file, you can set the address to connect to as <code class="language-plaintext highlighter-rouge">ubuntu-vm</code> (or whatever you chose during setup).</p> <p>Make sure to actually start the VM from VirtualBox before attempting to login. Just start it, there’s no need to login from the VirtualBox server window.</p> <p>Installing the basics First thing’s first, we’re going to install the basic necessities, like <code class="language-plaintext highlighter-rouge">make</code>, <code class="language-plaintext highlighter-rouge">curl</code>, <code class="language-plaintext highlighter-rouge">wget</code>, as well as the Apache server, Mercurial, Git and Subversion:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">sudo </span>apt-get <span class="nb">install </span>gcc make wget cron curl libxml2 libxml2-dev libzip-dev <span class="se">\</span>
    libbz2-dev curl libcurl4-openssl-dev libcurl3 libcurl3-gnutls libjpeg62 <span class="se">\</span>
    libjpeg62-dev libpng12-0 libpng12-dev libmcrypt-dev libmcrypt4 libxslt1-dev <span class="se">\</span>
    libxml2-dev apache2 apache2-mpm-prefork apache2-prefork-dev apache2-utils <span class="se">\</span>
    apache2.2-common git mercurial subversion
</pre></td></tr></tbody></table></code></pre></div></div> <p>Edit the new Apache2 config file, <code class="language-plaintext highlighter-rouge">$ sudo nano /etc/apache2/httpd.conf</code> and add</p> <pre><code class="language-apacheconfig">ServerName localhost
</code></pre> <p>You’ll now have the Apache server up and running! Just point your browser to <a href="http://ubuntu-vm">ubuntu-vm</a> and behold the magic!</p> <div class="text-center"> <figure class="img-thumbnail"> <a href="/static/post/2012-04-22-setting-up-an-ubuntu-vm-step-by-step/step16.png"> <img style="max-width: 100%; height: auto;" src="/static/post/2012-04-22-setting-up-an-ubuntu-vm-step-by-step/step16.png" width="300px"/> <figcaption> <small>step16.png</small> </figcaption> </a> </figure> </div> <p>Let’s enable Apache’s ModRewrite module now:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">sudo </span>a2enmod rewrite
</pre></td></tr></tbody></table></code></pre></div></div> <p>This module allows us to use htaccess for pretty URLs.</p> <h2 id="installing-mysql">Installing MySQL</h2> <p>We’ll be installing MySQL 5.5 from repo, as this is easiest and works fairly well. Unfortunately, Ubuntu 11.10′s repo only goes up to MySQL 5.1, so we’ll add in dotdeb.org’s repos for the latest version.</p> <p>Add to top of the file <code class="language-plaintext highlighter-rouge">$ sudo nano /etc/apt/sources.list</code>:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>deb http://packages.dotdeb.org stable all
deb-src http://packages.dotdeb.org stable all
</pre></td></tr></tbody></table></code></pre></div></div> <p>Then type:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>wget http://www.dotdeb.org/dotdeb.gpg <span class="o">&amp;&amp;</span> <span class="nb">cat </span>dotdeb.gpg | <span class="nb">sudo </span>apt-key add -
<span class="nv">$ </span><span class="nb">sudo </span>apt-get update
</pre></td></tr></tbody></table></code></pre></div></div> <p>Your system can now download MySQL 5.5!</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>    <span class="nv">$ </span><span class="nb">sudo </span>apt-get <span class="nb">install </span>mysql-client-5.5 mysql-server-5.5
</pre></td></tr></tbody></table></code></pre></div></div> <p>On the screens asking for a MySQL password, leave it blank and hit enter. Since this is only for a local server there’s no point in setting up a password.</p> <blockquote class="danger"> <p>Do NOT use a blank password in production environments! That’s just stupid.</p> </blockquote> <h2 id="setting-up-mysql">Setting up MySQL</h2> <p>We need to update the IP address that MySQL will listen to for connections by editing <code class="language-plaintext highlighter-rouge">$ sudo nano /etc/mysql/my.cnf</code></p> <p>Do a search for <code class="language-plaintext highlighter-rouge">bind-address</code> (CTRL + W) and change the setting to:</p> <div class="language-ini highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c">;bind-address           = 127.0.0.1
</span><span class="py">bind-address</span>            <span class="p">=</span> <span class="s">192.168.56.101</span>
</pre></td></tr></tbody></table></code></pre></div></div> <p>Now let’s grant the root MySQL user all permissions:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>mysql <span class="nt">-u</span> root
GRANT ALL ON <span class="k">*</span>.<span class="k">*</span> TO <span class="s1">'root'</span>@<span class="s1">'%'</span><span class="p">;</span>
<span class="nb">exit</span><span class="p">;</span>
</pre></td></tr></tbody></table></code></pre></div></div> <p>and restart the service:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">sudo </span>service mysql restart
</pre></td></tr></tbody></table></code></pre></div></div> <h2 id="compiling-php-from-source">Compiling PHP from Source</h2> <p>Next we’ll compile PHP from source.</p> <p>! I’ve updated the following steps from simpy installing PHP from repo, ! and actually compiling PHP from source. I’ve figured out that Xdebug and PHP from ! repo sources don’t play well and cause segfaults when exceptions are thrown in the ! page. Compiling PHP from source resolves this major issue. Plus, it’s pretty easy ! to do!</p> <p>The initial steps leading up to the compiling are fairly easy, we’re going to install all build dependencies that PHP5 requires and also download the actual source from php.net. I’ll be setting up PHP 5.3.11, but the steps for 5.4.1 are identical, and I’ll provide the link for it in the same code:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">sudo </span>apt-get build-dep php5
<span class="nv">$ </span>wget http://us3.php.net/get/php-5.3.11.tar.gz/from/this/mirror <span class="nt">-O</span> php-5.3.11.tar.gz
<span class="c"># $ wget http://us2.php.net/get/php-5.4.1.tar.gz/from/this/mirror -O php-5.4.1.tar.gz</span>
<span class="nv">$ </span><span class="nb">tar</span> <span class="nt">-xzf</span> php-<span class="k">*</span>.tar.gz
<span class="nv">$ </span><span class="nb">cd </span>php-5<span class="k">*</span>
</pre></td></tr></tbody></table></code></pre></div></div> <p>Now we’ll actually compile PHP. The options shown are fairly standard and should get you up and running with most applications. This process will take a few minutes.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>./configure <span class="nt">--with-apxs2</span><span class="o">=</span>/usr/bin/apxs2 <span class="nt">--with-config-file-path</span><span class="o">=</span>/etc/php5 <span class="se">\</span>
    <span class="nt">--with-mysql</span><span class="o">=</span>mysqlnd <span class="nt">--enable-inline-optimization</span> <span class="nt">--disable-debug</span> <span class="se">\</span>
    <span class="nt">--enable-bcmath</span> <span class="nt">--enable-calendar</span> <span class="nt">--enable-ctype</span> <span class="nt">--enable-ftp</span> <span class="nt">--with-gd</span> <span class="se">\</span>
    <span class="nt">--disable-sigchild</span> <span class="nt">--with-jpeg-dir</span><span class="o">=</span>/usr <span class="nt">--with-png-dir</span><span class="o">=</span>/usr <span class="nt">--with-zlib</span><span class="o">=</span><span class="nb">yes</span> <span class="se">\</span>
    <span class="nt">--with-zlib-dir</span><span class="o">=</span>/usr <span class="nt">--with-openssl</span> <span class="nt">--with-xsl</span><span class="o">=</span>/usr <span class="nt">--with-mcrypt</span><span class="o">=</span>/usr <span class="se">\</span>
    <span class="nt">--with-mhash</span><span class="o">=</span>/usr <span class="nt">--enable-mbstring</span><span class="o">=</span>all <span class="nt">--with-curl</span><span class="o">=</span>/usr/bin <span class="se">\</span>
    <span class="nt">--with-curlwrappers</span> <span class="nt">--enable-mbregex</span> <span class="nt">--enable-zend-multibyte</span> <span class="nt">--with-bz2</span><span class="o">=</span>/usr <span class="se">\</span>
    <span class="nt">--with-iconv</span> <span class="nt">--with-pdo-mysql</span><span class="o">=</span>mysqlnd <span class="nt">--enable-fileinfo</span> <span class="nt">--with-pear</span> <span class="se">\</span>
    <span class="nt">--enable-exif</span> <span class="nt">--enable-soap</span> <span class="nt">--with-regex</span> <span class="nt">--enable-zip</span> <span class="nt">--with-tidy</span> <span class="se">\</span>
    <span class="nt">--sysconfdir</span><span class="o">=</span>/etc <span class="nt">--with-gettext</span> <span class="se">\</span>
    <span class="nt">--with-freetype-dir</span><span class="o">=</span>/usr/include/freetype2/freetype <span class="nt">--with-libxml-dir</span>
<span class="nv">$ </span>make
<span class="nv">$ </span><span class="nb">sudo </span>make <span class="nt">-i</span> <span class="nb">install</span>
</pre></td></tr></tbody></table></code></pre></div></div> <p>Create a symlink into the bin</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">sudo ln</span> <span class="nt">-s</span> /usr/local/bin/php /usr/bin/php
</pre></td></tr></tbody></table></code></pre></div></div> <p>Let the Apache web server know about PHP by first creating a conf file, <code class="language-plaintext highlighter-rouge">$ sudo nano /etc/apache2/mods-available/php5.conf</code>, and adding</p> <pre><code class="language-apacheconfig">AddType application/x-httpd-php .php .phtml .php3
AddType application/x-httpd-php-source .phps
</code></pre> <p>And finally enable PHP as an Apache module</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">sudo </span>a2enmod php5
</pre></td></tr></tbody></table></code></pre></div></div> <p>The last steps are copying over the default ini file and restarting Apache</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">sudo mkdir</span> /etc/php5/
<span class="nv">$ </span><span class="nb">sudo cp</span> ~/php<span class="k">*</span>/php.ini-development /etc/php5/php.ini
<span class="nv">$ </span><span class="nb">sudo </span>service apache2 restart
</pre></td></tr></tbody></table></code></pre></div></div> <p>Try it out with <code class="language-plaintext highlighter-rouge">$ php -v</code> and you should get back confirmation that you’ve successfully installed PHP.</p> <p>Before moving into editing the php.ini, or adding sites to apache’s vhosts, I want to setup some simple shortcuts for quickly editing these and other files.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">cd</span>
<span class="nv">$ </span><span class="nb">mkdir </span>_lamp <span class="o">&amp;&amp;</span> <span class="nb">cd </span>_lamp
<span class="nv">$ </span><span class="nb">sudo ln</span> <span class="nt">-s</span> /etc/apache2/httpd.conf
<span class="nv">$ </span><span class="nb">sudo ln</span> <span class="nt">-s</span> /etc/apache2/sites-available/default
<span class="nv">$ </span><span class="nb">sudo ln</span> <span class="nt">-s</span> /etc/php5/php.ini
</pre></td></tr></tbody></table></code></pre></div></div> <p>Now whenever you want to update server-related files, just go to this _lamp folder in your home directory.</p> <p>Now we’ll want to install Xdebug (because you’re using Xdebug to debug, right?)</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">cd</span>
<span class="nv">$ </span>git clone git://github.com/derickr/xdebug.git
<span class="nv">$ </span><span class="nb">cd </span>xdebug<span class="k">*</span>
<span class="nv">$ </span>phpize
<span class="nv">$ </span>./configure <span class="nt">--enable-xdebug</span>
<span class="nv">$ </span>make
<span class="nv">$ </span><span class="nb">sudo </span>make <span class="nb">install</span>
</pre></td></tr></tbody></table></code></pre></div></div> <p>And finally, configure our php.ini with all the extensions we’ve installed, as well as some other sane defaults</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">cd</span> ~/_lamp
<span class="nv">$ </span><span class="nb">sudo </span>nano php.ini
</pre></td></tr></tbody></table></code></pre></div></div> <p>To do a text search in nano, you press <code class="language-plaintext highlighter-rouge">CTRL + W</code>. To go to the next search result, press <code class="language-plaintext highlighter-rouge">CTRL + W</code> again and just hit enter.</p> <div class="language-ini highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="c"># ...
</span><span class="py">error_reporting</span> <span class="p">=</span> <span class="s">-1</span>
<span class="c"># ...
</span><span class="py">display_errors</span> <span class="p">=</span> <span class="s">On</span>
</pre></td></tr></tbody></table></code></pre></div></div> <p>We want to use <code class="language-plaintext highlighter-rouge">-1</code> for <code class="language-plaintext highlighter-rouge">error_reporting</code> to get back every single error, warning and notice possible.</p> <p>Search for <code class="language-plaintext highlighter-rouge">date.timezone</code> and edit:</p> <div class="language-ini highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># ...
;date.timezone =
</span><span class="py">date.timezone</span> <span class="p">=</span> <span class="s">America/Chicago</span>
</pre></td></tr></tbody></table></code></pre></div></div> <p>Right above <code class="language-plaintext highlighter-rouge">date.timezone</code>, add the following block:</p> <div class="language-ini highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="nn">[xdebug]</span>
<span class="py">zend_extension</span><span class="p">=</span><span class="s">/usr/local/lib/php/extensions/no-debug-non-zts-20090626/xdebug.so</span>
<span class="py">xdebug.remote_enable</span><span class="p">=</span><span class="s">1</span>
<span class="py">xdebug.remote_connect_back</span><span class="p">=</span><span class="s">1</span>
<span class="py">xdebug.remote_port</span><span class="p">=</span><span class="s">9000</span>
<span class="py">xdebug.show_local_vars</span><span class="p">=</span><span class="s">0</span>
<span class="py">xdebug.var_display_max_data</span><span class="p">=</span><span class="s">10000</span>
<span class="py">xdebug.var_display_max_depth</span><span class="p">=</span><span class="s">20</span>
<span class="py">xdebug.show_exception_trace</span><span class="p">=</span><span class="s">0</span>
</pre></td></tr></tbody></table></code></pre></div></div> <p>Exit nano by hitting <code class="language-plaintext highlighter-rouge">CTRL + X</code>, type <code class="language-plaintext highlighter-rouge">Y</code> to confirm and hit <code class="language-plaintext highlighter-rouge">Enter</code> to exit.</p> <p>Now restart Apache:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">sudo </span>service apache2 restart
</pre></td></tr></tbody></table></code></pre></div></div> <p>You’ll now have the Xdebug extension installed, and all the new configuration settings changed.</p> <p>To test this out, we can print out <code class="language-plaintext highlighter-rouge">phpinfo()</code>, but first we need to give our user permission to edit the webroot. Simply replace “USERNAME” with your username in the lines below:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">sudo </span>usermod <span class="nt">-a</span> <span class="nt">-G</span> www-data USERNAME
<span class="nv">$ </span><span class="nb">sudo chown</span> <span class="nt">-R</span> root:www-data /var/www
<span class="nv">$ </span><span class="nb">sudo chmod</span> <span class="nt">-R</span> 775 /var/www
</pre></td></tr></tbody></table></code></pre></div></div> <p>Now go to the webroot, remove the <code class="language-plaintext highlighter-rouge">index.html</code> file that is currently in there and replace it with a PHP file:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">cd</span> /var/www
<span class="nv">$ </span><span class="nb">rm</span> <span class="nt">-F</span> index.html
<span class="nv">$ </span>nano index.php
</pre></td></tr></tbody></table></code></pre></div></div> <p>and enter in <code class="language-plaintext highlighter-rouge">phpinfo();</code>.</p> <p>Refresh your browser window, which should show your PHP’s information. Do a search for <code class="language-plaintext highlighter-rouge">xdebug</code> and if you find it you’ll have done everything correctly.</p> <p>The following is optional, but you should really consider doing it: installing PHPUnit:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">sudo </span>pear config-set auto_discover 1
<span class="nv">$ </span><span class="nb">sudo </span>pear <span class="nb">install </span>pear.phpunit.de/PHPUnit
<span class="nv">$ </span><span class="nb">sudo </span>pear <span class="nb">install </span>phpunit/DbUnit
<span class="nv">$ </span><span class="nb">sudo </span>pear <span class="nb">install </span>phpunit/PHPUnit_Selenium
<span class="nv">$ </span><span class="nb">sudo </span>pear <span class="nb">install </span>phpunit/PHPUnit_TestListener_XHProf
</pre></td></tr></tbody></table></code></pre></div></div> <p>! Update: Composer is a much better solution for installing PHPUnit. An ! upcoming series of articles will lay out the details</p> <p>Setting up SAMBA</p> <h2 id="samba-is-a-great-utility-that-allows-you-to-access-remote-locations-as-a-shared">SAMBA is a great utility that allows you to access remote locations as a shared</h2> <p>network file. This will be the way we access the files on our server for editing.</p> <p>Replace USERNAME with your username:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">sudo </span>adduser USERNAME www-data
</pre></td></tr></tbody></table></code></pre></div></div> <p>And edit the SAMBA config file <code class="language-plaintext highlighter-rouge">$ sudo nano /etc/samba/smb.conf</code></p> <div class="language-ini highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="nn">[www]</span>
<span class="py">comment</span> <span class="p">=</span> <span class="s">www</span>
<span class="py">path</span> <span class="p">=</span> <span class="s">/var/www</span>
<span class="py">public</span> <span class="p">=</span> <span class="s">yes</span>
<span class="py">writable</span> <span class="p">=</span> <span class="s">yes</span>
<span class="err">valid</span> <span class="py">users</span> <span class="p">=</span> <span class="s">USERNAME</span>
<span class="err">create</span> <span class="py">mask</span> <span class="p">=</span> <span class="s">0775</span>
<span class="err">directory</span> <span class="py">mask</span> <span class="p">=</span> <span class="s">0775</span>
<span class="err">force</span> <span class="py">user</span> <span class="p">=</span> <span class="s">USERNAME</span>
<span class="err">force</span> <span class="py">group</span> <span class="p">=</span> <span class="s">www-data</span>
<span class="err">follow</span> <span class="py">symlinks</span> <span class="p">=</span> <span class="s">yes</span>
<span class="err">wide</span> <span class="py">links</span> <span class="p">=</span> <span class="s">yes</span>
</pre></td></tr></tbody></table></code></pre></div></div> <p>Replace USERNAME with your username.</p> <p>Set up a password:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">sudo </span>smbpasswd <span class="nt">-a</span> USERNAME
</pre></td></tr></tbody></table></code></pre></div></div> <p>And restart SAMBA:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">sudo </span>service smbd restart
</pre></td></tr></tbody></table></code></pre></div></div> <p>After it completes, you’ll now be able to access the webroot and map it as a network drive. Just open up Windows Explorer (or the tool of your OS of choice) and go to <code class="language-plaintext highlighter-rouge">\\ubuntu-vm</code></p> <p>Awesome!</p> <h2 id="setting-up-apache">Setting up Apache</h2> <p>I like to keep all my site configurations in a single file, as opposed to creating a separate file for each site. So let’s edit the default <code class="language-plaintext highlighter-rouge">$ sudo nano ~/_lamp/default</code></p> <p>We can erase everything in here, and enter the following</p> <pre><code class="language-apacheconfig">&lt;VirtualHost *:80&gt;
    DocumentRoot "/var/www/"
    ServerName localhost
    ServerAlias ubuntu-vm
&lt;/VirtualHost&gt;
</code></pre> <p>Every site you add can always be in this file. Just copy/paste the above, changing out the correct bits. For example, for a site called “google.dev”:</p> <pre><code class="language-apacheconfig">&lt;VirtualHost *:80&gt;
    DocumentRoot "/var/www/google.dev"
    ServerName google.dev
    ServerAlias www.google.dev
&lt;/VirtualHost&gt;
</code></pre> <p>and restart Apache with <code class="language-plaintext highlighter-rouge">$ sudo service apache2 restart</code>.</p> <h2 id="finishing-up">Finishing up</h2> <p>You’ve now got a fully functional, working Linux VM running independently of what you have on your daily OS.</p> <p>Now only did you install Apache, PHP and MySQL, but you also set up important tools like Xdebug and PHPUnit, both of which I will be writing about in articles not too far in the future!</p> <p><a href="/blog/my-bash-aliases-file">I’d like to point you to my .bash_aliases file, as well</a>!</p> <p>This magic file allows you to add eye candy to the terminal, as well as some nifty shortcuts. Instead of having to type <code class="language-plaintext highlighter-rouge">$ sudo service apache2 restart</code> you can now do <code class="language-plaintext highlighter-rouge">$ apache restart</code>, and much more!</p> <p>Remember, there’s no shame on using Windows or Mac OS X as your operating system, but for best results you should always using a Linux VM to handle all your LAMP stuff!</p> <hr class="invisible"> <ul class="pager"> <li class="previous"> <a href="/blog/my-bash-aliases-file" data-toggle="tooltip" data-placement="top" title="My .bash_aliases file"> Previous &rarr;<br> <span>My .bash_aliases file</span> </a> </li> <li class="next"> <a href="/blog/setting-up-a-debian-vm-step-by-step" data-toggle="tooltip" data-placement="top" title="Setting Up a Debian VM, Step by Step"> &larr; Next<br> <span>Setting Up a Debian VM, Step by Step</span> </a> </li> </ul> <hr class="invisible"> </div> </div> </div> </article> <footer> <div class="container"> <div class="row"> <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"> <ul class="list-inline text-center footer-icons"> <li><a href="mailto:jtreminio@gmail.com"><i data-feather="mail"></i></a></li> <li> <a href="https://github.com/jtreminio" target="_blank"> <i data-feather="github"></i> </a> </li> <li> <a href="https://twitter.com/juantreminio" target="_blank"> <i data-feather="twitter"></i> </a> </li> <li> <a href="https://www.linkedin.com/in/jtreminio-1" target="_blank"> <i data-feather="linkedin"></i> </a> </li> </ul> </div> </div> </div> </footer> <link href="//cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" rel="stylesheet" type="text/css"/> <link href="//cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" rel="stylesheet" type="text/css"/> <script src="//cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js"></script> <script src="//cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js"></script> <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"> <div class="pswp__bg"></div> <div class="pswp__scroll-wrap"> <div class="pswp__container"> <div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div> </div> <div class="pswp__ui pswp__ui--hidden"> <div class="pswp__top-bar"> <div class="pswp__counter"></div> <button class="pswp__button pswp__button--close" title="Close (Esc)"></button> <button class="pswp__button pswp__button--share" title="Share"></button> <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button> <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button> <div class="pswp__preloader"> <div class="pswp__preloader__icn"> <div class="pswp__preloader__cut"> <div class="pswp__preloader__donut"></div> </div> </div> </div> </div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"> <div class="pswp__share-tooltip"></div> </div> <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"> </button> <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"> </button> <div class="pswp__caption"> <div class="pswp__caption__center"></div> </div> </div> </div> </div> </body> <script src="/static/js/custom.js?1642997114"></script> </html>